@page "/"
@using Spellslinger.Components
@using Spellslinger.Services
@inject IGame Game
@inject IMapGenerator MapGenerator

<div @onkeydown="KeyDown" tabindex="0">

	<PageTitle>Home</PageTitle>

	<div style="display: flex; flex-direction: row">
		<MapView Model="@Game.CurrentMap" />

		<div class="log">
			@for (var i = Game.Log.Count - Game.CurrentMap.Height; i < Game.Log.Count; i++)
			{
				if (i >= 0)
				{
					<p class="log-entry">@Game.Log[i]</p>
				}
			}
		</div>
	</div>

</div>